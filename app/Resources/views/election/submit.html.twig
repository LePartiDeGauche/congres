{% extends '::base.html.twig' %}

{% form_theme form _self %}

{% block _appbundle_election_election_maleElectionResults_entry_row %}
<div class="form-group">
    <div class="col-sm-10">
        {{ form_widget(form.elected) }}
    </div>
    <div class="col-sm-2">
        {{ form_widget(form.numberOfVote) }}
    </div>
</div>
{% endblock %}

{% block _appbundle_election_election_femaleElectionResults_entry_row %}
<div class="form-group">
    <div class="col-sm-10">
        {{ form_widget(form.elected) }}
    </div>
    <div class="col-sm-2">
        {{ form_widget(form.numberOfVote) }}
    </div>
</div>
{% endblock %}

{% block title %}Rapporter un résultat d'élection {% endblock %}

{% block body %}
    <div class="container">
        <div class="row">
            {% for flashMessage in app.session.flashbag.get('success') %}
                <div class="alert alert-success">
                    {{ flashMessage }}
                </div>
            {% endfor %}
        </div>
        <div class="row">
            <h1>{{ election.group }} -  {{ election.organ }}</h1>
            <h2>Rapporter un résultat</h2>
            {% if election.group.description is not empty %}
            <div class="alert alert-warning">
                {{ election.group.description | raw }}
            </div>
            {% endif %}

            {{ form(form) }}

        </div>
        <a href="{{ path('election_list') }}">Retourner à la liste des élections</a>
    </div>
{% endblock %}

{% block javascripts %}
{{ parent () }}

{% javascripts '@jquery_js' '@jqueryui_js' '@bootstrap_js' '@pugxautocompleter_js' %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
{% endjavascripts %}

<script type="text/javascript">
$(document).ready(function () {
  'use strict';
  $('.adherent-autocomplete').autocompleter({
      url_list: '/adherents/search',
      url_get: '/adherents/get/'
  });
});
</script>
{% endblock %}
